<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Marcus Ferreira</title>
  <link rel="stylesheet" href="styles-old.css" />
  <link rel="stylesheet" href="styles.css" />

  <script async src="https://www.googletagmanager.com/gtag/js?id=G-B6T3E7G06M"></script>
  <script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-B6T3E7G06M');
  </script>
</head>

<body>
 <div id="nav"></div>
  
  <header class="hero container">
    <div class="intro-text layout-one-col">
      <h1>Hi, I'm Marcus. A product designer from Nashville, TN.</h1>
      <div class="hero-bar"></div>
      <p>I create strategic, user-centered digital experiences that connect businesses with their audiences. 
        A former landscape architect, I've learned that whether it's a physical or digital site, the secret to success 
        is all in the layout.</p>
    </div>
    <div class="profile-img-container" id="profileContainer">
        <img class="profile-img" id="profileImg" src="MF/Me.png" alt="Profile" />
    </div>
  </header>

<div class="container cs-container index-cs-container">
  <a href="tcp.html" class="cs">
    <div class="cs-image index-cs-image">
      <img src="images/TCP/TCPThumbnail.png" alt="Connected Parent Thumbnail" />
    </div>
    <div class="cs-info layout-one-col">
      <h2 class="cs-title">The Connected Parent</h2>
      <p class="cs-subtext">SaaS | Branding | Creative</p>
      <p class="cs-description">Web Application built to help families find and rate disability resources.</p>
      <div class="button-wrapper">
        <span class="button">READ CASE STUDY</span>
      </div>
    </div>
  </a>
</div>

<div class="container cs-container">
  <a href="supplylogic.html" class="cs">
    <div class="cs-image">
      <img src="images/supplylogic/supplylogic-thumbnail.webp" alt="Supply Logic Thumbnail" />
    </div>
    <div class="cs-info layout-one-col">
      <h2 class="cs-title">Supply Logic</h2>
      <p class="cs-subtext">Web Design | B2B</p>
      <p class="cs-description">Marketing website redesign for a logistics and procurement company.</p>
      <div class="button-wrapper">
        <span class="button">READ CASE STUDY</span>
      </div>
    </div>
  </a>
</div>

<div class="container cs-container">
  <a href="#" class="cs locked-cs" data-target="nyli.html">
    <div class="cs-image">
      <img src="images/nyli/NYLIThumbnail.webp" alt="NYLI Thumbnail" />
    </div>

    <div class="cs-info layout-one-col">
      <h2 class="cs-title">New York Life Investments</h2>
      <p class="cs-subtext">Financial Services | CMS | Enterprise</p>
      <p class="cs-description">
        Financial enterprise platform using AEM and a shared design system.
      </p>
      <div class="button-wrapper">
        <span class="button">READ CASE STUDY</span>
      </div>
    </div>

    <div class="cs-password-overlay">
      <div class="cs-password-modal">
        <p class="p2 bold">Enter password</p>
        <div class="password-row">
          <input type="password" placeholder="Password" />
          <button type="button">Submit</button>
        </div>
        <p class="password-error">Incorrect password</p>
      </div>
    </div>

  </a>
</div>


<div id="footer"></div>


<script>
/*Nav+footer */

let lastScrollY = window.scrollY;

fetch('nav.html')
  .then(res => res.text())
  .then(html => {
    document.getElementById('nav').innerHTML = html;

    const nav = document.querySelector(".top-nav");
    const hamburger = document.getElementById("hamburger");
    const navLinks = document.getElementById("navLinks");

    if (hamburger) {
      hamburger.addEventListener("click", () => {
        navLinks.classList.toggle("show");
      });
    }

    window.addEventListener("scroll", () => {
      const currentScrollY = window.scrollY;

      if (currentScrollY > lastScrollY && currentScrollY > 80) {
        nav.classList.add("nav-hidden");
      } else {
        nav.classList.remove("nav-hidden");
      }

      lastScrollY = currentScrollY;
    });
  });

fetch('footer.html')
  .then(res => res.text())
  .then(html => {
    document.getElementById('footer').innerHTML = html;

    const copyBtn = document.querySelector('.copy-email');
    if (copyBtn) {
      copyBtn.addEventListener('click', () => {
        navigator.clipboard.writeText(copyBtn.dataset.email);
        copyBtn.textContent = 'Copied!';
        setTimeout(() => copyBtn.textContent = 'Copy email', 1500);
      });
    }
  });

/*Squats */

const container = document.getElementById('profileContainer');
const img = document.getElementById('profileImg');
const totalFrames = 15;
let currentFrame = 1;
let intervalId = null;
let isMobileCycling = false;

for (let i = 1; i <= totalFrames; i++) {
  const padded = String(i).padStart(2, '0');
  const preloadImg = new Image();
  preloadImg.src = `images/squat/${padded}.webp`;
}

function startCycling() {
  if (intervalId) return;
  currentFrame = 1;
  img.src = `images/squat/01.webp`;
  intervalId = setInterval(() => {
    currentFrame = (currentFrame % totalFrames) + 1;
    img.src = `images/squat/${String(currentFrame).padStart(2, '0')}.webp`;
  }, 700);
}

function stopCycling() {
  clearInterval(intervalId);
  intervalId = null;
  img.src = 'MF/Me.png';
}

container.addEventListener('mouseenter', startCycling);
container.addEventListener('mouseleave', stopCycling);

container.addEventListener('click', () => {
  if (window.matchMedia('(hover: none)').matches) {
    isMobileCycling = !isMobileCycling;
    isMobileCycling ? startCycling() : stopCycling();
  }
});

/*Password*/

const PASSWORD = "case-study";

document.querySelectorAll(".locked-cs").forEach(card => {
  const overlay = card.querySelector(".cs-password-overlay");
  const input = card.querySelector("input");
  const button = card.querySelector("button");
  const error = card.querySelector(".password-error");
  const target = card.dataset.target;

  card.addEventListener("click", e => {
    e.preventDefault();
    card.classList.add("show-password");
    input.focus();
  });

  overlay.addEventListener("click", e => e.stopPropagation());

  button.addEventListener("click", e => {
    e.stopPropagation();
    if (input.value === PASSWORD) {
      window.location.href = target;
    } else {
      error.style.display = "block";
    }
  });
});
</script>

</body>
</html>
